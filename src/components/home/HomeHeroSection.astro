---
import Tags from '@widgets/Tags.astro';
import { Image, Picture } from 'astro:assets';
import HomeSocialsBar from './HomeSocialsBar.astro';
import DownArrowIcon from '../../images/icons/down-arrow-icon.astro';
---

<style>
  @media only screen and (min-width: 1023px) and (min-height: 1024px) {
    .content-container {
      height: calc(100vh - 200px);
    }
  }
  
</style>
<div class="pb-16 content-container flex flex-col justify-center ">
  <div class="page 3xl:max-w-[1920px]  flex flex-col md:flex-row justify-between items-center mt-12 relative   ">

    <!-- GRADIENT BLUR BACKGROUND -->
    <div class="blur-image-container blurFix absolute left-0 top-10 z-10 blur-3xl w-full h-full opacity-20 pointer-events-none">
    
      <Image
        class="w-full"
        fit="cover"
        width={124}
        height={100}
        quality={20}
        aspectRatio={2488/2000}
        src={import('../../images/brand/emote-setup.png')}
        alt={'emote setup'} 
      />
  
    </div>

    <div class="w-full md:w-2/3">
      <h2 class="m-0 text-5xl md:text-7xl 3xl:text-9xl font-extrabold  outline-text">
        Fabio Biondi
      </h2>
      <h2 class="m-0 mb-3 text-3xl md:text-4xl 3xl:text-5xl font-extrabold themetxt"> <span class="text-sky-400">  Front-End </span> Instructor </h2>
      <h2 class="m-0 mb-3 text-2xl md:text-3xl 3xl:text-5xl font-thin themetxt">Speaker & Content Creator</h2>
        
      
      <div class="my-12 max-w-96">
        <Tags tags={['JavaScript', 'TypeScript' ]}  />
        <Tags tags={['Angular', 'React']}  />

        <Tags tags={[ 'RxJS', 'Redux', 'NGRX' ]}  />
        <Tags tags={[ 'Lit', 'NextJS', 'Astro', 'SolidJS', 'Svelte', ]}  />
        <!-- <Tags tags={['NextJS', 'SolidJS', 'Svelte', 'Lit', 'Astro']}  />
        <Tags tags={['RxJS', 'Redux', 'NGRX' ]}  /> -->
      </div>
      
    </div>



      <div class="w-1/2 relative">
        <div class="absolute -right-4 -bottom-4">
          <div class="flake bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
          <div class="flake bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
          <div class="flake bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
          <div class="flake bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
          <div class="flake bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
          <div class="flake bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
        </div>

        <Picture 
          class="w-72 md:w-96 "
          src={import('../../images/brand/snow.png')}
          widths={[140, 400]} 
          aspectRatio={1}
          width="140"
          height="100"
          alt="Emote desktop"
          sizes="(max-width: 1023px) 140px 300px "
          /> 
        
<!-- 
        <Image 
          id="emote-snow"
          class="w-72 rounded-xl"
          src={import('../images/brand/snow.png')}
          alt="" 
          width={190}
          quality={50}
          fit="outside"
          aspectRatio={1}  
        /> 
         -->

        <div class="absolute -right-4 -bottom-4">
          <div class="flake-over bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
          <div class="flake-over bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
          <div class="flake-over bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
          <div class="flake-over bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
          <div class="flake-over bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
          <div class="flake-over bg-white rounded-xl w-8 h-6 rotate-45 opacity-0 "></div>
        </div>
      </div>
  </div>

  <!-- <span class="text-center bg-slate-700 rounded-2xl p-4 mx-auto">
    <div class="text-xl sm:text-2xl">The site is under construction</div>
    <div class="text-lg sm:text-3xl">Come back in the next days</div>
  </span> -->

  <div class="mt-8 md:mt-32">
    <HomeSocialsBar />
  </div>


  <div class="flex justify-center mt-16">
    <DownArrowIcon />
  </div> 

</div>



<script>

  import anime from "animejs";
  import { isMobile } from "src/helpers/browser.utils";


  function initAni() {

    // anime({
    //   targets: '.blur-image-container',
    //   opacity: [0, 0.3],
    //   duration: 400,
    //   delay: 100,
    //   easing: 'easeInSine'
    // })

    const flakesBelowAni = anime({
      targets: '.flake',
      //translateX: function(el, i) { return 200  + (15 * i); },
      translateX: -300,
      translateY: function(el, i) { return anime.random(-100, -300)  + (15 * i); },
      rotate: 45,
      opacity: [0, 1, 0 ],
      duration: 1000,
      delay: anime.stagger(400),
      //delay: function(el, i) { return  anime.random(100, 1000) * 5},
      // direction: 'alternate',
      loop: true,
      autoplay: false,
      easing: 'easeInOutSine',
      // complete: function(anim) {
      //   //animation.play()    
      // }
    });
    flakesBelowAni.play()


    anime({
      targets: '#emote-snow',
      keyframes: [
        {rotate: -15},
        {rotate: -5},
        {rotate: -25},
        {rotate: -15},
        {rotate: 0},
      ],
      duration: 14000,
      easing: 'easeOutQuint(1, .8)',
      loop: true
    });

  

    const flakesBelowAni2 = anime({
      targets: '.flake-over',
      //translateX: function(el, i) { return 200  + (15 * i); },
      translateX: -300,
      translateY: function(el, i) { return anime.random(-100, -300)  + (15 * i); },
      rotate: 45,
      opacity: [0, 1, 0 ],
      duration: 1000,
      delay: anime.stagger(400),
      //delay: function(el, i) { return  anime.random(100, 1000) * 5},
      // direction: 'alternate',
      loop: true,
      autoplay: false,
      easing: 'easeInOutSine',
      // complete: function(anim) {
      //  // animation.play()    
      // }
    });
    flakesBelowAni2.play() 
  }

  if (!isMobile()) {
    setTimeout(initAni, 500);
  }


</script>
