---
layout: ../../../../layouts/TutorialPageLayout.astro
slug: angular/angular-ng-modules-and-router
route: '2-core-module-and-navbar'
title: Core Module and Navigation Bar
title1: Angular 15
title2: Core Module and Navigation Bar
author: ['Fabio Biondi']
description: In this step-by-step tutorial you will learn how to create a multiview application using Angular 15, with custom <code>ngModules</code> (core, feature and shared), lazy loading, primary and nested routes
image:
  blur: 'angular/angular-ng-modules-and-router/image.png'
  url: null
  alt: Create a simple CRUD app
  series: 'angular/angular-ng-modules-and-router/image.png'
pubDate: 2022-02-25
tags: ["angular", "typescript"] 
series: 
  name: "Create an Angular app with ngModules"
  idx: 1
difficulty: 1
---

import { Image } from 'astro:assets';

import * as ReactDOMServer from 'react-dom/server';
// import Example1 from './demo/Example1';
import Img from '@widgets/Image.astro';
import ImageCarousel from '@widgets/ImageCarousel.astro';
import HDivider from '@widgets/HDivider.astro';
import IFrame from '@widgets/IFrame.astro'; 
import Key from '@widgets/Key.astro';
import Code from '@widgets/Code.astro';
import Phone from '@widgets/Phone.astro';
import DesktopWindow from '@widgets/DesktopWindow.astro';
import Hero from '@widgets/PostHero.astro';
import TutorialSeries from '@widgets/TutorialSeries.astro';
import Hint from '@widgets/Hint.astro';
import BannerPromoAngular from '@widgets/BannerPromoAngular.astro';






# TOPICS

# Generate the Core Module

The `Core` module is often used to group components, directive, pipes (and services) that needs to be available in `AppModule` and loaded when the application starts, such as the Navigation Bar.

This is not required by Angular, since you may also directly add them in `AppModule`, but I like to organize things in this way:

* **"Core"** modules: everything that need to be loaded when the application starts
* **"Features"** modules: each view and its own components can be organized in a module (which is usually associated with a specific route and lazy loaded)
* **"Shared"** modules: these are necessary when you need to use custom components, pipe or directives in multiple "features" modules, since they cannot be declared by more than one module.

So, let's create the "Core" module and add it to `AppModule`:

<Code>
  ```bash
  ng g m core --module app
  ```
</Code>

<Hint title="What means this concise syntax?" type="info">
  `ng g m` represents the alias for the command `ng generate module`
</Hint>

<Hint title="What are the parameter for?">
  * `core`: the name of the module. It creates `core/core.module.ts`
  * `--module app`: import the `core` module to `app.module`, the "root" module
</Hint>

<Img  src={import('./images/core-module.png')} w={800} quality={60} border align="center"/>



Infact, `AppModule` now imports `CoreModule`:


<Code techs={['angular']} title="<code>app.module.ts</code>">

```ts
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';

import { AppRoutingModule } from './app-routing.module';
import { AppComponent } from './app.component';
import { CoreModule } from './core/core.module';

@NgModule({
  declarations: [ AppComponent  ],
  imports: [
    BrowserModule,
    AppRoutingModule,
    CoreModule          // <== ADDED
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }
```
</Code>



# Generate the NavBar component

<Code>
```bash
ng g c core/components/navbar --flat --module core --export
```
</Code>



<Hint title="What means this concise syntax?" type="info">
  `ng g c` represents the alias for the command `ng generate component`
</Hint>

<Hint title="What are the parameter for?">
  * `core/components/navbar`: generate the component in a specific path
  * `--flat`: avoid the creation of a folder that contains the component itself (otherwise the component would be created in `/navbar/navbar.components`)
  * `--module core`: register the component to the `CoreModule` instead of `AppModule`
  * `--exports`: the component is also exported, otherwise it cannot be used in other modules

<br />
  As you can see, the NavBar component is created and the `core.module.ts` file is updated:

  <Img  src={import('./images/navbar-schematic.png')} w={800} quality={60} border align="center"/>


<Code techs={['angular']} title="<code>core.module.ts</code>">
```ts
import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { NavbarComponent } from './components/navbar.component';

@NgModule({
  declarations: [ NavbarComponent ], // <== NEW
  imports: [ CommonModule ],
  exports: [ NavbarComponent ] , // <== NEW
})
export class CoreModule { }
```
</Code>

The `CommonModule` contains the Angular built-in directives (`*ngIf`, `*ngFor`, ..) and pipes (`date`, `json`, ...) and it's necessary in order to use these features in all components of the module

</Hint>


# Project structure

So far, your project structure should look like the following:

<Img  src={import('./images/project-structure-2.png')} w={400} quality={60} border align="center"/>



# Use the Navigation Bar

Open `app.component.ts` and add the `NavBar` component you have just created.

We also wrap the `router-outlet` component into a `div` element, applying a couple of Bootstrap CSS classes in order to distance the Navigation Bar from the route content and make it responsive.

Anyway we use `router-outlet` later. At the moment it does not display anything yet.

<Code techs={['angular']} title="<code>app.component.ts</code>">
```ts
import { Component } from '@angular/core';

@Component({
selector: 'app-root',
template: `
  <app-navbar></app-navbar>

  <div class="container mt-2">
    <router-outlet></router-outlet>
  </div>
`
})
export class AppComponent { }
```
</Code>



As you may have noticed we have also removed some stuff from the "original" generated component:

* the `title` class property: since we don't use it anymore
* the `styles` decorator property: usually used to define local CSS classes


### Result

If you run the project on `http://localhost:4200` you should just see the following output:


<Img isWindowed={false} src={import('./images/navbar-empty.png')} w={600} quality={60} border align="center"/>

## Problems?
If you don't see any output, open your Browser DevTools and check if there are some runtime errors.
You may also need to kill the `angular-cli` process from terminal by using <Key> CTRL</Key> + <Key>C</Key> and run it again by using `npm start`


# Navigation Bar Layout
Now, create the Navigation Bar layout by using Bootstrap.

Open `core/components/navbar.component.ts` and replace previous content with the following (it's just a static HTML template):

<Code techs={['angular']} title="<code>navbar.component.ts</code>">
```html
import { Component } from '@angular/core';

@Component({
selector: 'app-navbar',
template: `
  <nav class="navbar navbar-expand navbar-dark bg-dark text-white">
    <a class="navbar-brand">LOGO</a>

    <div class="navbar-collapse collapse">
      <ul class="navbar-nav">

        <li class="nav-item">
          <a class="nav-link">Home</a>
        </li>

        <li class="nav-item">
          <a class="nav-link">Settings</a>
        </li>

        <li class="nav-item">
          <a class="nav-link">Users</a>
        </li>
      </ul>
    </div>
  </nav>
`
})
export class NavbarComponent { }
```
</Code>

### Result:

The navigation still does not work but the layout should be in place.

You will enable navigation in the next chapter.


<Img  src={import('./images/navbar-preview.png')} w={500} quality={60} border align="center"/>


<TutorialSeries frontmatter={frontmatter} />


<br />
  <BannerPromoAngular></BannerPromoAngular>
<br />
